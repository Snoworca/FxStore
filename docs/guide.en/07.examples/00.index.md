---
name: Example Collection
description: FxStore practical examples collection
---

# Example Collection

Complete code examples that can be used in real projects.

## Example List

| Example | Level | Collections Used | Description |
|---------|-------|------------------|-------------|
| [User Cache](01.user-cache.md) | Intermediate | Map | TTL-based local cache implementation |
| [Time-Series Data](02.time-series.md) | Intermediate | Map | Sensor data storage and aggregation |
| [Task Queue](03.task-queue.md) | Advanced | Deque | Persistent task queue with retry logic |
| [Session Store](04.session-store.md) | Advanced | Map | Server-side session management |

## Key Features by Example

### User Cache
- Custom codec implementation
- TTL-based expiration
- Cache-Aside pattern
- AUTO mode utilization

### Time-Series Data
- Timestamp key design
- Bulk writes with BATCH mode
- Range queries with subMap()
- Aggregation function implementation

### Task Queue
- Deque bidirectional access
- Dead Letter Queue pattern
- Retry logic
- Worker thread pattern

### Session Store
- Multiple Map indexing
- Lazy expiration checking
- Session attribute management
- User-session mapping

## Common Patterns

### Codec Implementation Pattern
```java
public class MyCodec implements FxCodec<MyType> {
    @Override
    public byte[] encode(MyType obj) {
        ByteBuffer buffer = ByteBuffer.allocate(size);
        // Fixed-length fields: putInt, putLong, putDouble
        // Variable-length: putInt(length) + put(bytes)
        return buffer.array();
    }

    @Override
    public MyType decode(byte[] bytes) {
        ByteBuffer buffer = ByteBuffer.wrap(bytes);
        // Read in same order as encode
        return new MyType(...);
    }
}
```

### Resource Management Pattern
```java
public class MyStore implements AutoCloseable {
    private final FxStore store;

    public MyStore(Path path) {
        this.store = FxStore.open(path, options);
        this.store.registerCodec(MyType.class, new MyCodec());
    }

    @Override
    public void close() {
        store.close();
    }
}

// Usage
try (MyStore store = new MyStore(path)) {
    // Perform operations
}
```

### Commit Mode Selection
```java
// When real-time storage is important
FxOptions.defaults()
    .withCommitMode(CommitMode.AUTO)
    .build();

// When bulk processing is needed
FxOptions.defaults()
    .withCommitMode(CommitMode.BATCH)
    .build();
```

## Running Examples

1. Copy example code to your project
2. Add FxStore dependency
3. Run `main()` method
4. Check generated `.fx` file

## Next Steps

- [API Reference](../06.api-reference/fxstore.md) - Complete API documentation
- [Performance Tuning](../05.tutorials/08.performance.md) - Optimization techniques
- [Troubleshooting](../08.troubleshooting.md) - Common problem solving
