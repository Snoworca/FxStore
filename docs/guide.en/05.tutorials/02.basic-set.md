---
name: Using Set
description: NavigableSet creation, element add/remove, and range query tutorial
---

# Tutorial 02: Using Set

> **Estimated Time**: 10 minutes
> **Level**: Beginner
> **Prerequisites**: [Map Tutorial](01.basic-map.md)

## Learning Objectives

- Create/open NavigableSet
- Add/remove elements
- Check existence
- Range queries and sorted order utilization

## 1. Set Creation and Basic Operations

```java
import com.snoworca.fxstore.api.FxStore;
import java.nio.file.Paths;
import java.util.NavigableSet;

public class SetBasics {
    public static void main(String[] args) {
        FxStore store = FxStore.open(Paths.get("tags.fx"));

        // Create Set
        NavigableSet<String> tags = store.createOrOpenSet("tags", String.class);

        // Add elements
        tags.add("java");
        tags.add("database");
        tags.add("persistence");
        tags.add("java");  // Duplicate - ignored

        // Check size
        System.out.println("Size: " + tags.size());  // 3

        // Check existence
        boolean hasJava = tags.contains("java");  // true
        boolean hasPython = tags.contains("python");  // false

        // Remove element
        tags.remove("database");

        // Print all (in sorted order)
        for (String tag : tags) {
            System.out.println(tag);
        }
        // Output: java, persistence (alphabetical order)

        store.close();
    }
}
```

## 2. Utilizing Sorted Order

```java
NavigableSet<Long> numbers = store.createOrOpenSet("numbers", Long.class);

numbers.add(10L);
numbers.add(20L);
numbers.add(30L);
numbers.add(40L);
numbers.add(50L);

// First/last
Long first = numbers.first();  // 10
Long last = numbers.last();    // 50

// Navigation methods
Long lower = numbers.lower(30L);    // 20 (greatest < 30)
Long floor = numbers.floor(30L);    // 30 (greatest <= 30)
Long ceiling = numbers.ceiling(30L); // 30 (least >= 30)
Long higher = numbers.higher(30L);   // 40 (least > 30)

// Search for missing value
Long ceil25 = numbers.ceiling(25L);  // 30
```

## 3. Range Queries

```java
// subSet: fromElement ~ toElement
NavigableSet<Long> sub = numbers.subSet(20L, true, 40L, true);
// Result: [20, 30, 40]

// headSet: beginning ~ toElement
NavigableSet<Long> head = numbers.headSet(30L, true);
// Result: [10, 20, 30]

// tailSet: fromElement ~ end
NavigableSet<Long> tail = numbers.tailSet(30L, true);
// Result: [30, 40, 50]
```

## 4. Descending Order

```java
// Descending Set
NavigableSet<Long> descending = numbers.descendingSet();
for (Long n : descending) {
    System.out.println(n);
}
// Output: 50, 40, 30, 20, 10

// Descending Iterator
java.util.Iterator<Long> descIter = numbers.descendingIterator();
```

## 5. Removing First/Last

```java
// Remove first
Long polledFirst = numbers.pollFirst();  // Returns 10, removes from Set

// Remove last
Long polledLast = numbers.pollLast();  // Returns 50, removes from Set
```

## Complete Example

```java
import com.snoworca.fxstore.api.FxStore;
import java.nio.file.Paths;
import java.util.NavigableSet;

public class SetTutorial {
    public static void main(String[] args) {
        FxStore store = FxStore.open(Paths.get("set_tutorial.fx"));

        // Manage online user IDs
        NavigableSet<Long> onlineUsers = store.createOrOpenSet(
            "online_users", Long.class);

        // Login
        onlineUsers.add(1001L);
        onlineUsers.add(1005L);
        onlineUsers.add(1003L);
        onlineUsers.add(1008L);

        // Check online status
        if (onlineUsers.contains(1003L)) {
            System.out.println("User 1003 is online");
        }

        // Most recent login (largest ID)
        System.out.println("Latest: " + onlineUsers.last());

        // Users >= 1004
        System.out.println("Users >= 1004:");
        for (Long id : onlineUsers.tailSet(1004L, true)) {
            System.out.println("  " + id);
        }

        // Logout
        onlineUsers.remove(1003L);

        // All online users
        System.out.println("All online: " + onlineUsers);

        store.close();
    }
}
```

## Next Steps

- [Using List](03.basic-list.md)
- [Using Deque](04.basic-deque.md)
