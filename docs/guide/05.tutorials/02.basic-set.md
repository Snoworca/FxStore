---
name: Set 사용하기
description: NavigableSet 생성, 요소 추가/제거, 범위 조회 튜토리얼
---

# Tutorial 02: Set 사용하기

> **예상 시간**: 10분
> **난이도**: 초급
> **선행 조건**: [Map 튜토리얼](01.basic-map.md)

## 학습 목표

- NavigableSet 생성/열기
- 요소 추가/제거
- 존재 여부 확인
- 범위 조회 및 정렬 순서 활용

## 1. Set 생성 및 기본 연산

```java
import com.snoworca.fxstore.api.FxStore;
import java.nio.file.Paths;
import java.util.NavigableSet;

public class SetBasics {
    public static void main(String[] args) {
        FxStore store = FxStore.open(Paths.get("tags.fx"));

        // Set 생성
        NavigableSet<String> tags = store.createOrOpenSet("tags", String.class);

        // 요소 추가
        tags.add("java");
        tags.add("database");
        tags.add("persistence");
        tags.add("java");  // 중복 - 무시됨

        // 크기 확인
        System.out.println("Size: " + tags.size());  // 3

        // 존재 확인
        boolean hasJava = tags.contains("java");  // true
        boolean hasPython = tags.contains("python");  // false

        // 요소 제거
        tags.remove("database");

        // 전체 출력 (정렬된 순서)
        for (String tag : tags) {
            System.out.println(tag);
        }
        // 출력: java, persistence (알파벳 순)

        store.close();
    }
}
```

## 2. 정렬 순서 활용

```java
NavigableSet<Long> numbers = store.createOrOpenSet("numbers", Long.class);

numbers.add(10L);
numbers.add(20L);
numbers.add(30L);
numbers.add(40L);
numbers.add(50L);

// 첫 번째/마지막
Long first = numbers.first();  // 10
Long last = numbers.last();    // 50

// 탐색 메서드
Long lower = numbers.lower(30L);    // 20 (30 미만 최대)
Long floor = numbers.floor(30L);    // 30 (30 이하 최대)
Long ceiling = numbers.ceiling(30L); // 30 (30 이상 최소)
Long higher = numbers.higher(30L);   // 40 (30 초과 최소)

// 없는 값 탐색
Long ceil25 = numbers.ceiling(25L);  // 30
```

## 3. 범위 조회

```java
// subSet: fromElement ~ toElement
NavigableSet<Long> sub = numbers.subSet(20L, true, 40L, true);
// 결과: [20, 30, 40]

// headSet: 처음 ~ toElement
NavigableSet<Long> head = numbers.headSet(30L, true);
// 결과: [10, 20, 30]

// tailSet: fromElement ~ 끝
NavigableSet<Long> tail = numbers.tailSet(30L, true);
// 결과: [30, 40, 50]
```

## 4. 역순 조회

```java
// 역순 Set
NavigableSet<Long> descending = numbers.descendingSet();
for (Long n : descending) {
    System.out.println(n);
}
// 출력: 50, 40, 30, 20, 10

// 역순 Iterator
java.util.Iterator<Long> descIter = numbers.descendingIterator();
```

## 5. 첫 번째/마지막 제거

```java
// 첫 번째 제거
Long polledFirst = numbers.pollFirst();  // 10 반환, Set에서 제거

// 마지막 제거
Long polledLast = numbers.pollLast();  // 50 반환, Set에서 제거
```

## 전체 예제

```java
import com.snoworca.fxstore.api.FxStore;
import java.nio.file.Paths;
import java.util.NavigableSet;

public class SetTutorial {
    public static void main(String[] args) {
        FxStore store = FxStore.open(Paths.get("set_tutorial.fx"));

        // 온라인 상태 사용자 ID 관리
        NavigableSet<Long> onlineUsers = store.createOrOpenSet(
            "online_users", Long.class);

        // 로그인
        onlineUsers.add(1001L);
        onlineUsers.add(1005L);
        onlineUsers.add(1003L);
        onlineUsers.add(1008L);

        // 온라인 확인
        if (onlineUsers.contains(1003L)) {
            System.out.println("User 1003 is online");
        }

        // 가장 최근 로그인 (가장 큰 ID)
        System.out.println("Latest: " + onlineUsers.last());

        // 1004 이상 사용자
        System.out.println("Users >= 1004:");
        for (Long id : onlineUsers.tailSet(1004L, true)) {
            System.out.println("  " + id);
        }

        // 로그아웃
        onlineUsers.remove(1003L);

        // 전체 온라인 사용자
        System.out.println("All online: " + onlineUsers);

        store.close();
    }
}
```

## 다음 단계

- [List 사용하기](03.basic-list.md)
- [Deque 사용하기](04.basic-deque.md)
